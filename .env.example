# ===========================================
# n8n Production Environment Configuration
# ===========================================
# 
# IMPORTANT: Copy this file to .env and replace all placeholder values
# 
#   cp .env.example .env
#   nano .env
#
# SECURITY WARNING:
# - Never commit .env file to version control
# - Backup N8N_ENCRYPTION_KEY securely (required to decrypt credentials)
# - Use strong, unique passwords for all services
# ===========================================

# PostgreSQL Database Configuration
# Generate secure password: openssl rand -base64 32 | tr -dc 'a-zA-Z0-9' | head -c 32
POSTGRES_USER=n8n
POSTGRES_PASSWORD=YOUR_SECURE_POSTGRES_PASSWORD_HERE
POSTGRES_DB=n8n

# n8n Encryption Key
# CRITICAL: Backup this key! If lost, encrypted credentials cannot be recovered
# Generate key: openssl rand -hex 16
N8N_ENCRYPTION_KEY=YOUR_32_CHARACTER_ENCRYPTION_KEY_HERE

# Domain Configuration
# Replace with your actual domain (without https://)
# Examples: n8n.example.com, workflow.company.com
DOMAIN=n8n.YOUR_DOMAIN.com

# Let's Encrypt Email (for SSL certificate expiry notifications)
LETSENCRYPT_EMAIL=your.email@example.com

# Timezone Configuration
# Examples: UTC, Europe/Madrid, America/New_York, Asia/Tokyo
# Full list: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
TZ=UTC

# ===========================================
# Optional: Cloudflare DNS Challenge
# ===========================================
# Only needed if using DNS challenge for SSL certificates
# Uncomment and set if you want DNS challenge instead of HTTP challenge
# 
# CF_DNS_API_TOKEN=YOUR_CLOUDFLARE_API_TOKEN_HERE

# ===========================================
# Advanced Configuration (Optional)
# ===========================================
# These have sensible defaults in docker-compose.yml
# Only uncomment and modify if you need to override defaults

# PostgreSQL Advanced Settings
# POSTGRES_MAX_CONNECTIONS=100
# POSTGRES_SHARED_BUFFERS=1024MB

# n8n Advanced Settings
# N8N_PAYLOAD_SIZE_MAX=64
# N8N_LOG_LEVEL=info
# EXECUTIONS_DATA_MAX_AGE=168

# Redis Advanced Settings
# REDIS_MAXMEMORY=512mb

# ===========================================
# DO NOT MODIFY BELOW THIS LINE
# ===========================================
# These are derived from above variables and set in docker-compose.yml
# Documenting here for reference only

# N8N_HOST=${DOMAIN}
# N8N_PROTOCOL=https
# WEBHOOK_URL=https://${DOMAIN}/
# N8N_EDITOR_BASE_URL=https://${DOMAIN}/
